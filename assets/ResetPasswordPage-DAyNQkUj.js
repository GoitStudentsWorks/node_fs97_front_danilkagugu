import{j as s,D as w,r as f,L as h}from"./index-CvA_--r5.js";import{L as x}from"./Logo-DYcVhLjl.js";import{c as I,a as l,b as P,u as j,o as g}from"./yup-Du3XTAH0.js";import{u as p}from"./useTranslation-BygT1CkE.js";const N="_resetForm_ozkcs_1",b="_label_ozkcs_7",W="_formInput_ozkcs_18",k="_submitBtn_ozkcs_41",R="_singUpIcon_ozkcs_60",v="_inputIconWrapper_ozkcs_64",F="_formInputError_ozkcs_68",z="_errorMsg_ozkcs_79",T="_formInputValid_ozkcs_86",r={resetForm:N,label:b,formInput:W,submitBtn:k,singUpIcon:R,inputIconWrapper:v,formInputError:F,errorMsg:z,formInputValid:T},B=I().shape({password:l().min(6,"Minimum 6 characters!").max(50,"Too Long!").required("Password is required"),repeatPassword:l().oneOf([P("password"),null],"Passwords must match").required("Repeat Password is required")}),E={password:"",repeatPassword:""},$=({onPasswordReset:a})=>{const{t:e}=p(),{register:i,handleSubmit:c,formState:{errors:t,touchedFields:n}}=j({resolver:g(B),defaultValues:E}),m=new URLSearchParams(location.search).get("token"),_=async u=>{try{(await w({token:m,password:u.password})).status===204?a():alert(e("failed_reset_password"))}catch(d){console.error("Error:",d),alert(e("failed_reset_password"))}};return s.jsx("div",{className:r.resetFormWrap,children:s.jsxs("form",{className:r.resetForm,onSubmit:c(_),children:[s.jsxs("label",{className:r.label,children:[e("new_password"),s.jsx("input",{className:`${r.formInput} ${t.password&&n.password?r.formInputError:n.password?r.formInputValid:""}`,type:"password",...i("password"),placeholder:e("placeholder.enter_new_password")}),t.password&&n.password?s.jsx("div",{className:r.errorMsg,children:t.password.message}):null]}),s.jsxs("label",{className:r.label,children:[e("confirm_password"),s.jsx("input",{className:`${r.formInput} ${t.repeatPassword&&n.repeatPassword?r.formInputError:n.repeatPassword?r.formInputValid:""}`,type:"password",...i("repeatPassword"),placeholder:e("placeholder.confirm_new_password")}),t.repeatPassword&&n.repeatPassword?s.jsx("div",{className:r.errorMsg,children:t.repeatPassword.message}):null]}),s.jsx("button",{className:r.submitBtn,type:"submit",children:e("reset_password")})]})})},L="_resetPasswordWrap_lnfis_1",M="_infoWrap_lnfis_8",S="_infoTitle_lnfis_16",y="_text_lnfis_25",V="_signInBtn_lnfis_30",q="_infoContainer_lnfis_55",o={resetPasswordWrap:L,infoWrap:M,infoTitle:S,text:y,signInBtn:V,infoContainer:q},U=()=>{const{t:a}=p(),[e,i]=f.useState(),c=()=>{i(!0)};return s.jsxs("div",{className:o.resetPasswordWrap,children:[s.jsx(x,{}),s.jsx("div",{className:o.infoContainer,children:e?s.jsxs("div",{children:[s.jsxs("div",{className:o.infoWrap,children:[s.jsx("h1",{className:o.infoTitle,children:a("password_changed")}),s.jsx("p",{className:o.text,children:a("log_new_password")})]}),s.jsx(h,{to:"/signin",className:o.signInBtn,children:a("sign_in")})]}):s.jsxs("div",{children:[s.jsx("div",{className:o.infoWrap,children:s.jsx("h1",{className:o.infoTitle,children:a("reset_your_password")})}),s.jsx($,{onPasswordReset:c})]})})]})},H=()=>s.jsx(s.Fragment,{children:s.jsx(U,{})});export{H as default};
//# sourceMappingURL=ResetPasswordPage-DAyNQkUj.js.map
